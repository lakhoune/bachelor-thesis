\chapter{Concept}
\section{Scenario: Mensa Community}
We illustrate the software system by considering a community of frequent Mensa visitors. The students in this community share a common interests which is the food at the canteen.

Students can rate meals thorugh a social bot, which is designed with the help of the Social Bot Framework. The bot can be accessed by the Slack chat application. Students can ask the bot about which food will be served on a given day.

Furhtermore, the students can query visualisations about the meals through the chat application. Those visualisations include current success metrics which were previously defined by the community. The metrics can be defined inside the MobSOS Continious Community Analytics (CCA) system.

\subsection{Use Cases}

\subsubsection{Issuing a visualization request} A student wants to decide wether to go to the canteen on a given day. He opens Slack and asks the bot, which food will be served on that day. The resulting meal is then displayed inside the chat.

The student is still unsure on wether to go to the canteen. He asks the bot how popular a specific meal is. The bot issues a query to the GraphQL interface of the CCA system, which contains a mediabase with reviews of meals, made by students. The resulting data is displayed as a chart inside the chat. The data is aggregated from different sources, like reviews on Facebook, Google, which are stored in the Mediabase, and reviews which were made inside the las2peer system. After the user has seen how good the food is, he is asked by the bot, wether he will go to the canteen. He tells the bot that he will go.

\subsubsection{Success Awareness} Students in the community are aware that the success of their community depends on the active participation of its members. They are discussing about the success of the community inside a group chat. They want to know how active the members of the community are. A student mentions the bot, which is a member of the chat group, and tells it to visulize the  average time, that a user is interacting with the service. The bot recognizes this and runs a predefined query. The resulting data is visualized in the group chat.

\subsubsection{Success modeling} The Corona virus is having a great impact on the daily life of students and the canteen can only be used as takeout. The students want to define a metric which models the impact of the virus on the use of their service. Therefore they define visualization tasks inside the chat application. The bot recognizes this and creates a task with the query which will be used for visualisation.

\subsubsection{Adding a review} After the canteen has closed, the bot will ask the user how the meal was. The user can rate the meal inside the chat. The bot will start a dialogue, by asking questions about the meal. Those questions are designed to capture the success metrics, which were previously defined. Each question results in a datapoint for the review. The user is asked if he wants to upload a photo of his meal. He chooses to do so. The final review is then added to the database and will be taken into consideration for further evaluation requests.

\subsubsection{Modifying a review} A user can choose to update a past review. The bot will ask the user the same questions and afterwards update the entry in the database with the new review.

\subsubsection{Evaluating the service} A user, which has been using the service for some time, is asked questions about the quality of the service. Such questions include things like how satisfied they are with different aspects of the service, or how likely it is, that they would recommend the service to a colleague.

\subsubsection{Adding a new database} Core members and moderators of the community can add a new source of information by adding a new database to the system. This can be done with the help of the GUI of the CCA system. Mediabase and its crawlerscan be used to incorporate reviews from sites outside the las2peer framework, like Google Reviews.

\subsubsection{Visualizations of multiple databases} Multiple databases can exist in a system. Apart from the reviews, which were added by chat, other reviews about overall user satisfaction are also collected with the help of crawlers. A student request a visualization of a metric which represents the overall success of the community. The resulting visualization contains results from all databases, to give an overview on how popular the specific canteen really is.

\section{Requirements}

\subsection{Functional Requirements}

\subsubsection{Retrieving Data from GraphQL API}
The system needs to be able to make queries to the GraphQL API, to get data, which will be used for the visualization of success metrics.

\subsubsection{Get Menu for the Canteen} The bot needs to be able to get the menu for a canteen for the given day and display it inside the chat

\subsubsection{Enter Review Context} The bot should be able to recognize, if a user wants to start a review.

\subsubsection{Listen for Mentions} Inside a group chat, the bot should only respond to messages which specifically mentioned the bot.

\subsubsection{Create new templates} The bot needs to be able to create visualisation-request templates and add them to the database

\subsubsection{Use Google Charts API} The data which has been retrieved from the GraphQL API needs to be passed to the Google Charts API to create a visualization. The resulting visualization should be a picture,so that it can be represented inside a chat.

\subsubsection{Group Chats} Users should be able to add a bot to a group chat.

\subsubsection{Cope with spelling mistakes} The bot should be able to understand the user, even if they made a spelling mistake.

\subsection{Non-Functional Requirements}

\subsubsection{Usability} The bot should be easy to use. Non-trained users should be able to interact with the bot with ease.

\subsubsection{UI optimization} The bot should be designed, for chats which will mainly run on mobile devices. As such, visualisations should be easy to read even on small devices.

\subsubsection{Compatibility} The bot should be extensible to any chat platform, which allows the use of bots.

